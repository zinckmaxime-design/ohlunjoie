<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <title>Ohlun'Joie ‚Äî √âv√©nements</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <span id="logo-emoji" class="logo-emoji">ü§ù</span>
        <span class="brand-name">Ohlun'Joie</span>
      </div>
      <div class="header-actions">
        <div class="view-switch" id="public-tabs">
          <button id="view-timeline" class="tab active" aria-label="Vue Timeline">Timeline</button>
          <button id="view-list" class="tab" aria-label="Vue Liste">Liste</button>
          <button id="view-cards" class="tab" aria-label="Vue Cartes">Cartes</button>
        </div>
        <button id="theme-toggle" class="icon-btn" aria-label="Mode sombre" title="Changer de th√®me">üåô</button>
        <button id="admin-toggle" class="icon-btn" aria-label="Administration" title="Administration">üîë</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="intro" id="public-intro">
      <h1>√âv√©nements</h1>
      <p id="intro-text">Notre association rassemble des b√©n√©voles passionn√©s qui organisent des √©v√©nements vari√©s pour cr√©er du lien social et enrichir la vie de notre commune.</p>
      <div class="next-event"><span id="next-event-badge" class="badge-info"></span></div>
    </section>

    <section id="public-section">
      <div id="timeline-view" class="view active"></div>
      <div id="list-view" class="view"></div>
      <div id="cards-view" class="view"></div>
    </section>

    <section id="admin-section" hidden aria-hidden="true"></section>
  </main>

  <footer class="site-footer">
    <div class="container">
      D√©velopp√© avec ‚ù§Ô∏è par <strong>Zinck Maxime</strong> ‚Äî 
      <a href="https://www.linkedin.com/in/zinck-maxime-88302b207" target="_blank" rel="noopener noreferrer">LinkedIn</a>
    </div>
  </footer>

  <div id="modal-backdrop" class="modal-backdrop" hidden></div>

  <!-- MODALE INSCRIPTION AM√âLIOR√âE -->
  <div id="modal-inscription" class="modal" hidden role="dialog" aria-modal="true" aria-labelledby="insc-title">
    <div class="modal-card">
      <div class="modal-header">
        <h3 id="insc-title">S'inscrire</h3>
        <button class="modal-close" data-close aria-label="Fermer">‚úï</button>
      </div>
      <div class="modal-event-meta">
        <p id="insc-event-title" class="event-title"></p>
        <p id="insc-event-meta" class="event-meta"></p>
      </div>
      <form id="insc-form" class="insc-form">
        <div class="form-section">
          <h4>Informations personnelles</h4>
          <div class="form-row">
            <label class="form-group">
              <span class="label-text">Pr√©nom*</span>
              <input name="prenom" required autocomplete="given-name" placeholder="Votre pr√©nom">
            </label>
            <label class="form-group">
              <span class="label-text">Nom*</span>
              <input name="nom" required autocomplete="family-name" placeholder="Votre nom">
            </label>
          </div>
          <div class="form-row">
            <label class="form-group">
              <span class="label-text">Email*</span>
              <input name="email" type="email" required autocomplete="email" placeholder="vous@email.com">
            </label>
            <label class="form-group">
              <span class="label-text">T√©l√©phone*</span>
              <input name="telephone" required autocomplete="tel" placeholder="06 12 34 56 78">
            </label>
          </div>
        </div>

        <div class="form-section">
          <h4>Disponibilit√©s (optionnel)</h4>
          <div class="form-row">
            <label class="form-group">
              <span class="label-text">Heure d'arriv√©e</span>
              <input name="heure_arrivee" type="time">
            </label>
            <label class="form-group">
              <span class="label-text">Heure de d√©part</span>
              <input name="heure_depart" type="time">
            </label>
          </div>
        </div>

        <div class="form-section">
          <h4>Participations</h4>
          <fieldset class="participations">
            <legend>S√©lectionnez au moins une participation</legend>
            <label class="checkbox-item">
              <input type="checkbox" name="preparation_salle">
              <span>Pr√©paration de la salle</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="partie_evenement">
              <span>Partie de l'√©v√©nement</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="evenement_entier">
              <span>√âv√©nement entier</span>
            </label>
          </fieldset>
        </div>

        <div class="form-section">
          <label class="form-group">
            <span class="label-text">Commentaire</span>
            <textarea name="commentaire" rows="3" placeholder="Allergies, remarques..."></textarea>
          </label>
        </div>

        <div class="form-notice">
          <strong>üîí Vos donn√©es</strong><br>
          <small>Utilis√©es uniquement pour g√©rer cette inscription. Jamais partag√©es avec des tiers.</small>
        </div>

        <input type="hidden" name="event_id" id="insc-event-id">
        <button type="submit" class="btn btn-primary btn-large">Confirmer mon inscription</button>
      </form>
    </div>
  </div>

  <!-- MODALE ADMIN (Login) -->
  <div id="modal-admin" class="modal" hidden role="dialog" aria-modal="true" aria-labelledby="admin-title">
    <div class="modal-card modal-card-small">
      <div class="modal-header">
        <h3 id="admin-title">Administration</h3>
        <button class="modal-close" data-close aria-label="Fermer">‚úï</button>
      </div>
      <form id="admin-form" class="admin-login-form">
        <label class="form-group">
          <span class="label-text">Email</span>
          <input id="admin-email" type="email" required autocomplete="email" placeholder="admin@email.com">
        </label>
        <label class="form-group">
          <span class="label-text">Mot de passe</span>
          <input id="admin-password" type="password" required autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </label>
        <button type="submit" class="btn btn-primary btn-large">Se connecter</button>
      </form>
    </div>
  </div>

  <div id="toast" class="toast" role="alert" aria-live="polite"></div>

  <script src="app-v5.js"></script>
</body>
</html>
